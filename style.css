* {
  box-sizing: border-box;
  margin: 0;
  padding: 0;
}

body {
  font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
  background: radial-gradient(circle at top, #0f172a, #020617);
  color: #e5e7eb;
  min-height: 100vh;
  display: flex;
  align-items: center;
  justify-content: center;
}

.game-wrapper {
  width: 960px;
  max-width: 100%;
  background: rgba(15, 23, 42, 0.96);
  padding: 24px 28px 28px;
  border-radius: 18px;
  border: 1px solid rgba(148, 163, 184, 0.5);
  box-shadow:
    0 28px 80px rgba(0, 0, 0, 0.9),
    0 0 0 1px rgba(15, 23, 42, 0.8);
}

.game-header {
  text-align: center;
  margin-bottom: 16px;
}

.game-header h1 {
  font-size: 26px;
  letter-spacing: 0.08em;
}

.subtitle {
  margin-top: 4px;
  font-size: 13px;
  color: #9ca3af;
}

.game-main {
  min-height: 480px;
}

.screen {
  display: none;
}

.screen.active {
  display: block;
}

.panel {
  background: radial-gradient(circle at top left, rgba(30, 64, 175, 0.18), rgba(15, 23, 42, 0.95));
  border-radius: 12px;
  padding: 12px 14px;
  border: 1px solid rgba(148, 163, 184, 0.5);
  box-shadow: 0 14px 40px rgba(15, 23, 42, 0.8);
}

.panel-centered {
  max-width: 520px;
  margin: 60px auto;
  text-align: center;
}

.panel-text {
  font-size: 15px;
  line-height: 1.6;
  margin-bottom: 18px;
  color: #e5e7eb;
}

.panel-title {
  font-size: 14px;
  letter-spacing: 0.12em;
  text-transform: uppercase;
  color: #9ca3af;
  margin-bottom: 8px;
}

.btn {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  padding: 8px 14px;
  border-radius: 999px;
  border: none;
  background: linear-gradient(135deg, #4b5563, #1f2933);
  color: #f9fafb;
  font-size: 14px;
  font-weight: 600;
  letter-spacing: 0.06em;
  cursor: pointer;
  box-shadow: 0 12px 26px rgba(15, 23, 42, 0.8);
  transition:
    transform 0.08s ease,
    box-shadow 0.12s ease,
    background 0.15s ease,
    filter 0.15s ease;
}

.btn.primary {
  background: linear-gradient(135deg, #22c55e, #16a34a);
  box-shadow: 0 14px 30px rgba(22, 163, 74, 0.7);
}

.btn:hover:not(:disabled) {
  transform: translateY(-1px);
  box-shadow: 0 16px 36px rgba(0, 0, 0, 0.8);
  filter: brightness(1.05);
}

.btn:active:not(:disabled) {
  transform: translateY(1px);
  box-shadow: 0 10px 22px rgba(0, 0, 0, 0.7);
}

.btn:disabled {
  opacity: 0.45;
  cursor: default;
  box-shadow: none;
}

.layout {
  display: grid;
  grid-template-columns: 220px 1fr 260px;
  gap: 12px;
}

.sidebar.left,
.sidebar.right {
  display: flex;
  flex-direction: column;
  gap: 10px;
}

.center {
  display: flex;
  flex-direction: column;
  gap: 10px;
}

.stat-row,
.equip-row {
  display: flex;
  justify-content: space-between;
  font-size: 13px;
  margin-bottom: 4px;
}

.stat-row.with-bar {
  display: grid;
  grid-template-columns: auto 1fr auto;
  align-items: center;
  gap: 6px;
}

.stat-row span:first-child,
.equip-row span:first-child {
  color: #9ca3af;
}

.stat-points-panel {
  margin-top: 8px;
  padding-top: 6px;
  border-top: 1px solid rgba(55, 65, 81, 0.8);
}

.stat-points-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  font-size: 12px;
  margin-bottom: 4px;
}

.stat-points-header span:last-child {
  font-weight: 600;
  color: #fde68a;
}

.stat-points-buttons {
  display: flex;
  flex-wrap: wrap;
  gap: 4px;
  margin-bottom: 4px;
}

.btn.tiny {
  padding: 3px 8px;
  font-size: 11px;
  box-shadow: 0 6px 12px rgba(15, 23, 42, 0.8);
}

.stat-points-hint {
  font-size: 11px;
  color: #9ca3af;
}

.equip-layout {
  margin-top: 10px;
  display: flex;
  flex-direction: column;
  gap: 10px;
}

.equip-slots {
  display: grid;
  grid-template-columns: repeat(4, minmax(0, 1fr));
  gap: 6px;
}

.equip-slot,
.inventory-slot {
  position: relative;
  border-radius: 10px;
  border: 1px solid rgba(55, 65, 81, 0.9);
  background: radial-gradient(circle at top, rgba(15, 23, 42, 0.96), rgba(15, 23, 42, 0.98));
  padding: 0; /* 아이콘이 슬롯 전체를 쓰도록 안쪽 여백 제거 */
  aspect-ratio: 1 / 1; /* 정사각형 슬롯 */
  display: flex;
  flex-direction: column;
  justify-content: flex-start;
  cursor: pointer;
  transition:
    border-color 0.12s ease,
    box-shadow 0.12s ease,
    transform 0.06s ease;
}

.equip-slot:hover,
.inventory-slot:hover {
  border-color: rgba(129, 140, 248, 0.9);
  box-shadow: 0 0 16px rgba(129, 140, 248, 0.45);
  transform: translateY(-1px);
}

.equip-slot.drag-over,
.inventory-slot.drag-over {
  border-color: rgba(34, 197, 94, 0.95);
  box-shadow: 0 0 18px rgba(34, 197, 94, 0.6);
}

.slot-label {
  font-size: 11px;
  color: #9ca3af;
  margin: 2px 4px;
}

.slot-content {
  font-size: 12px;
  color: #e5e7eb;
  display: flex;
  align-items: center;
  justify-content: center;
  flex: 1;          /* 남는 공간을 전부 아이콘 영역으로 사용 */
  width: 100%;
  height: 100%;
}

.slot-content.empty {
  color: #4b5563;
}

.item-icon {
  position: relative;
  width: 100%;   /* 슬롯 안을 가득 채우도록 */
  height: 100%;
  border-radius: 10px;
  box-shadow:
    0 0 0 1px rgba(148, 163, 184, 0.7),
    0 8px 20px rgba(15, 23, 42, 0.8);
  background: radial-gradient(circle at 30% 20%, #e5e7eb, #9ca3af);
  overflow: hidden;
}

.item-training-sword {
  background: radial-gradient(circle at 20% 10%, #e5e7eb, #9ca3af);
}

.item-training-sword::before {
  content: "";
  position: absolute;
  inset: 4px 13px;
  border-radius: 999px;
  background: linear-gradient(180deg, #f9fafb, #9ca3af);
}

.item-training-sword::after {
  content: "";
  position: absolute;
  bottom: 4px;
  left: 9px;
  right: 9px;
  height: 5px;
  border-radius: 999px;
  background: linear-gradient(90deg, #b45309, #92400e);
}

.item-leather-helmet {
  background: radial-gradient(circle at 30% 20%, #fed7aa, #9a3412);
}

.item-leather-helmet::before {
  content: "";
  position: absolute;
  left: 4px;
  right: 4px;
  bottom: 10px;
  top: 8px;
  border-radius: 999px 999px 4px 4px;
  background: radial-gradient(circle at 50% 0%, #fed7aa, #b45309);
}

.item-leather-helmet::after {
  content: "";
  position: absolute;
  left: 6px;
  right: 6px;
  bottom: 6px;
  height: 4px;
  border-radius: 999px;
  background: rgba(15, 23, 42, 0.75);
}

.item-leather-armor {
  background: radial-gradient(circle at 30% 20%, #facc15, #854d0e);
}

.item-leather-armor::before {
  content: "";
  position: absolute;
  top: 4px;
  left: 7px;
  right: 7px;
  bottom: 7px;
  border-radius: 6px;
  background: linear-gradient(180deg, #fef3c7, #b45309);
}

.item-leather-armor::after {
  content: "";
  position: absolute;
  top: 4px;
  left: 4px;
  right: 4px;
  height: 6px;
  border-radius: 999px;
  background: radial-gradient(circle at 50% 0%, #f59e0b, #92400e);
}

.item-wooden-shield {
  /* 기본 아이콘 크기(32x32)는 유지하고, 그 안에 방패 이미지를 꽉 채워 넣습니다 */
  background-color: transparent;
  background-image: url("assets/wooden-shield.png");
  background-position: center;
  background-repeat: no-repeat;
  background-size: contain;
}

.item-wooden-shield::before,
.item-wooden-shield::after {
  content: none;
}

.item-apprentice-ring {
  background: radial-gradient(circle at 30% 20%, #38bdf8, #1d4ed8);
}

.item-apprentice-ring::before {
  content: "";
  position: absolute;
  inset: 8px;
  border-radius: 999px;
  border: 3px solid rgba(248, 250, 252, 0.95);
  box-shadow:
    0 0 8px rgba(248, 250, 252, 0.9),
    0 0 16px rgba(56, 189, 248, 0.8);
}

.item-apprentice-ring::after {
  content: "";
  position: absolute;
  top: 3px;
  left: 11px;
  width: 10px;
  height: 6px;
  border-radius: 999px;
  background: radial-gradient(circle at 50% 0%, #e0f2fe, transparent 70%);
}

.slot-group-title {
  font-size: 12px;
  margin-bottom: 4px;
  color: #9ca3af;
}

.inventory-section {
  display: flex;
  flex-direction: column;
}

.inventory-grid {
  display: grid;
  grid-template-columns: repeat(4, minmax(0, 1fr));
  gap: 6px;
}

.stat-bar {
  position: relative;
  height: 10px;
  border-radius: 999px;
  background: rgba(15, 23, 42, 0.9);
  overflow: hidden;
  box-shadow: inset 0 0 0 1px rgba(55, 65, 81, 0.9);
}

.stat-bar-fill {
  height: 100%;
  width: 0;
  transition: width 0.18s ease;
}

.stat-bar-fill.exp {
  background: linear-gradient(90deg, #facc15, #eab308);
}

.stat-bar-fill.hp {
  background: linear-gradient(90deg, #f97373, #ef4444);
}

.stat-bar-fill.mp {
  background: linear-gradient(90deg, #38bdf8, #0ea5e9);
}

.map-panel {
  height: 240px;
}

.map-grid {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: 8px;
  margin-top: 8px;
}

.map-cell {
  padding: 10px 8px;
  border-radius: 10px;
  text-align: center;
  font-size: 14px;
  background: rgba(15, 23, 42, 0.9);
  border: 1px solid rgba(55, 65, 81, 0.9);
  color: #9ca3af;
}

.map-cell-active {
  background: radial-gradient(circle at top, rgba(34, 197, 94, 0.25), rgba(15, 23, 42, 0.9));
  border-color: rgba(34, 197, 94, 0.8);
  color: #bbf7d0;
  box-shadow: 0 0 20px rgba(34, 197, 94, 0.35);
}

.hint {
  font-size: 12px;
  color: #9ca3af;
  margin-top: 10px;
}

.action-panel .action-buttons {
  display: flex;
  gap: 8px;
}

.dungeon-panel {
  margin-top: 8px;
}

.dungeon-chapter {
  display: grid;
  grid-template-columns: auto 1fr auto;
  align-items: center;
  gap: 8px;
  margin-bottom: 6px;
}

.dungeon-chapter-info {
  text-align: center;
}

.dungeon-chapter-label {
  font-size: 13px;
  color: #e5e7eb;
}

.dungeon-chapter-name {
  font-size: 13px;
  color: #a5b4fc;
}

.btn.small {
  padding: 4px 10px;
  font-size: 12px;
  box-shadow: 0 8px 16px rgba(15, 23, 42, 0.8);
}

.log-panel,
.battle-log-panel {
  height: 260px;
}

.log {
  margin-top: 6px;
  padding: 8px 10px;
  background: rgba(15, 23, 42, 0.9);
  border-radius: 8px;
  border: 1px solid rgba(55, 65, 81, 0.9);
  font-size: 12px;
  max-height: 210px;
  overflow-y: auto;
  line-height: 1.4;
}

.log-line {
  margin-bottom: 4px;
}

.log-line.system {
  color: #a5b4fc;
}

.log-line.dmg {
  color: #f97316;
}

.log-line.heal {
  color: #4ade80;
}

.battle-panel {
  max-width: 820px;
  margin: 0 auto;
}

.battle-header {
  display: grid;
  grid-template-columns: 1fr auto 1fr;
  align-items: center;
  gap: 16px;
  margin-bottom: 12px;
}

.battle-char h2 {
  font-size: 16px;
  margin-bottom: 6px;
}

.battle-char.enemy h2 {
  text-align: right;
}

.battle-vs {
  font-size: 20px;
  font-weight: 700;
  letter-spacing: 0.2em;
  color: #9ca3af;
}

.bar-row {
  display: grid;
  grid-template-columns: auto 1fr auto;
  align-items: center;
  gap: 6px;
  font-size: 12px;
  margin-bottom: 4px;
}

.bar {
  position: relative;
  height: 12px;
  border-radius: 999px;
  background: rgba(15, 23, 42, 0.9);
  overflow: hidden;
  box-shadow: inset 0 0 0 1px rgba(55, 65, 81, 0.9);
}

.bar-fill {
  height: 100%;
  width: 100%;
  transition: width 0.18s ease;
}

.bar-fill.hp {
  background: linear-gradient(90deg, #f97373, #ef4444);
}

.bar-fill.hp.enemy {
  background: linear-gradient(90deg, #dc2626, #b91c1c);
}

.bar-fill.mp {
  background: linear-gradient(90deg, #38bdf8, #0ea5e9);
}

.bar-fill.shield {
  background: linear-gradient(90deg, #a855f7, #7c3aed);
}

.battle-body {
  display: grid;
  grid-template-columns: minmax(0, 1.4fr) minmax(0, 1fr);
  gap: 10px;
}

.battle-buttons {
  display: grid;
  grid-template-columns: repeat(2, minmax(0, 1fr));
  gap: 8px;
  margin-top: 8px;
}

.battle-footer {
  margin-top: 10px;
  text-align: right;
}

@media (max-width: 900px) {
  .layout {
    grid-template-columns: 1fr;
  }

  .sidebar.left,
  .sidebar.right {
    flex-direction: row;
    flex-wrap: wrap;
  }

  .battle-header {
    grid-template-columns: 1fr;
    text-align: center;
  }

  .battle-char.enemy h2 {
    text-align: center;
  }

  .battle-body {
    grid-template-columns: 1fr;
  }
}


